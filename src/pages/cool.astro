---
import Slides from "../layouts/Slides.astro";
---

<Slides title="Awesome">
	<div id="reveal-container" class="reveal">
		<div class="slides">
			<section>
				<h1>Git í™œìš©</h1>
				<em>ì§€ìŒ ë„¤ì´ë²„ 1ì°¨ Lighting Talk</em>
				<p>ë°•ì€ì°¬ ì „ì„</p>
			</section>
			<section data-markdown>
				<textarea data-template> 
## Git ë‚´ë¶€ êµ¬ì¡°
`git`ì´ ì‹¤ì œë¡œ ì½”ë“œë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•
---
### ìƒíƒœ ì£¼ì†Œ ì €ì¥ì†Œ 
### (Content-Addressable Storage)
Gitì€ diff/patchê°€ ì•„ë‹Œ *ìŠ¤ëƒ…ìƒ·*ì„ ì €ì¥
```bash
$ git init
$ echo "Hello World" > file.txt
$ git add file.txt
$ git commit -m "ìµœì´ˆ ì»¤ë°‹"
```
---
### ë„¤ ê°€ì§€ ê°ì²´ ìœ í˜•
![Git ê°ì²´](https://git-scm.com/book/en/v2/images/data-model-3.png)
---
### ë„¤ ê°€ì§€ ê°ì²´ ìœ í˜•
- **Blob**: íŒŒì¼ ë‚´ìš©
- **Tree**: ë””ë ‰í† ë¦¬ êµ¬ì¡° (ê¶Œí•œ ë“±ë“±)
- **Commit**: ë©”íƒ€ë°ì´í„°ê°€ ìˆëŠ” ìŠ¤ëƒ…ìƒ·
- **Tag**: ì»¤ë°‹ì— ëŒ€í•œ ì°¸ì¡° ì‚¬í•­
---
### .git ë””ë ‰í† ë¦¬
```bash
$ find .git/objects -type f | head -n 5
```
ëª¨ë“  ê°ì²´ëŠ” ì½˜í…ì¸ ì˜ SHA-1 í•´ì‹œë¡œ ì €ì¥
---
## ê³ ê¸‰ ë¸Œëœì¹­ ì „ëµ
íŒ€ë§ˆë‹¤ ë‹¤ë¥¸ ì›Œí¬í”Œë¡œìš°
---
### Git Flow
![Git Flow](https://miro.medium.com/v2/resize:fit:4800/format:webp/1*3-0EDzE63S_UZx2KbIz_dg.png "=300x300")
---
### Git Flow
- ì¥ê¸° feature ë¸Œëœì¹˜ ë° ìŠ¹ê²© (promotional) ëª¨ë¸ ì ìš©
- êµ¬ì¡°í™”ëœ ë¦´ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤
- ì˜ˆì •ëœ ë¦´ë¦¬ìŠ¤ì— ì í•©
---
### GitHub Flow
![GitHub Flow](https://miro.medium.com/v2/resize:fit:4800/format:webp/1*bFl2IXVT2xIRy8uOm7v4JA.png "=500x500")
---
### GitHub Flow
- ë©”ì¸ì—ì„œ feature ë¸Œëœì¹˜ ìƒì„±
- Pull Request ì›Œí¬í”Œë¡œìš°
- ì§€ì†ì  ë°°í¬(CD)ê°€ ìš”êµ¬ë˜ëŠ” íŒ€ ë˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ íŒ€

---
### íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œ
![íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œ](https://trunkbaseddevelopment.com/trunk1c.png)
---
### íŠ¸ë í¬ ê¸°ë°˜ ê°œë°œ
- ëª¨ë‘ê°€ ë©”ì¸/íŠ¸ë í¬ì—ì„œ ì‘ì—…
- ë‹¨ê¸° feature ë¸Œëœì¹˜
- ë¯¸ì™„ì„± ì‘ì—…ì„ ìœ„í•œ feature í”Œë˜ê·¸
---
## Hotfix ì‹œí€€ìŠ¤ ì˜ˆì‹œ
```bash
# í”¼ì²˜ ë¸Œëœì¹˜ ì‘ì—…
git checkout -b feature/payment-gateway
# ì»¤ë°‹ë“¤...
# ì¤‘ìš”í•œ ë²„ê·¸ ë°œê²¬
git checkout main
git checkout -b hotfix/security-vulnerability
# ë²„ê·¸ ìˆ˜ì •, ë²„ì „ bumpì™€ í•¨ê»˜ ë©”ì¸ìœ¼ë¡œ ë³‘í•©
git checkout main
git merge --no-ff hotfix/security-vulnerability
git tag -a v1.0.1 -m "ë³´ì•ˆ íŒ¨ì¹˜"
# feature ë¸Œëœì¹˜ì— ìˆ˜ì •ì‚¬í•­ ë°˜ì˜
git checkout feature/payment-gateway
git rebase main
# ì¶©ëŒ í•´ê²°...
# ë³‘í•© ì „ ì»¤ë°‹ ì •ë¦¬
git rebase -i HEAD~3
```

---
## íš¨ê³¼ì ì¸ Git ë²„ì „ ê´€ë¦¬
ìˆ«ìë¥¼ í†µí•œ ë³€ê²½ ì‚¬í•­ ì „ë‹¬
---
### Semantic ë²„ì €ë‹ (SEMVER)
```
MAJOR.MINOR.PATCH
```
- **MAJOR**: í˜¸í™˜ì„±ì´ ê¹¨ì§€ëŠ” ë³€ê²½ì‚¬í•­
- **MINOR**: ìƒˆë¡œìš´ Feature
- **PATCH**: ë²„ê·¸ ìˆ˜ì •/ê°„ë‹¨í•œ íŒ¨ì¹˜
---
### ë²„ì „ì„ ìœ„í•œ Git íƒœê·¸
```bash
# ì£¼ì„ì´ ìˆëŠ” íƒœê·¸ ìƒì„±
$ git tag -a v1.2.3 -m "ë²„ì „ 1.2.3 ë¦´ë¦¬ìŠ¤"
# íƒœê·¸ ë‚˜ì—´
$ git tag
# íƒœê·¸ í‘¸ì‹œ
$ git push origin v1.2.3
```
---
### ë¦´ë¦¬ìŠ¤ ë¸Œëœì¹˜ vs íƒœê·¸ëœ ì»¤ë°‹
ë¦´ë¦¬ìŠ¤ ë¸Œëœì¹˜:
```bash
$ git checkout -b release/1.2.0
# ë¦´ë¦¬ìŠ¤ ê´€ë ¨ ë¯¸ì„¸ ì¡°ì •
$ git tag -a v1.2.0 -m "ë²„ì „ 1.2.0"
```
íƒœê·¸ëœ ì»¤ë°‹:
```bash
$ git tag -a v1.2.0 -m "ë²„ì „ 1.2.0"
```
---
## Gitê³¼ CI/CD í†µí•©
---
### OSS/Pasta íŒŒì´í”„ë¼ì¸ íŠ¸ë¦¬ê±°
---
### Github ë¸Œëœì¹˜ ë³´í˜¸ ê·œì¹™
![ë¸Œëœì¹˜ ë³´í˜¸](https://www.cloudwithchris.com/blog/use-github-branch-protection-rules/images/use-github-branch-protection-rules/branch-protection-overview.png "=500x500")
---
### ë°°í¬ë¥¼ ìœ„í•œ Git ì „ëµ
1. **ë¸Œëœì¹˜ë³„ í™˜ê²½**:
   ```
   feature/xyz â†’ preview-xyz.example.com
   main â†’ staging.example.com
   tags â†’ production.example.com
   ```
2. **ìŠ¹ê²© ëª¨ë¸**:
   ```
   main â†’ staging â†’ production
   ```
---
### Feature í”Œë˜ê·¸ vs Feature ë¸Œëœì¹˜
```javascript
if (FEATURES.newPaymentSystem) {
  // ìƒˆ ê²°ì œ ì½”ë“œ
} else {
  // ê¸°ì¡´ ê²°ì œ ì½”ë“œ
}
```
vs.
```bash
git checkout -b feature/new-payment-gateway
```
---
## Git History ìˆ˜ì •
---
### Interactive(ëŒ€í™”í˜•?) Rebase
```bash
$ git rebase -i HEAD~3
```
```
pick 2c3a9a0 ì´ˆê¸° ìŠ¤ì¼ˆë ˆí†¤ ì¶”ê°€
squash 5d1a2f1 ìƒíƒœê´€ë¦¬ êµ¬í˜„
squash 8e6c8b2 ì˜¤ë¥˜ ì²˜ë¦¬ ì¶”ê°€
```
---
### Historyë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ê²½ìš°
**ìˆ˜ì • ì¶”ì²œ**:
- Pushí•˜ê¸° ì „ ë¡œì»¬ ì»¤ë°‹
- í”¼ì²˜ ë¸Œëœì¹˜ PR (ì£¼ì˜í•´ì„œ)
- íŒŒì•…í•˜ê¸° í˜ë“  ì§€ì €ë¶„í•œ íˆìŠ¤í† ë¦¬
**ìˆ˜ì • ë¹„ì¶”ì²œ**:
- ë©”ì¸ ë¸Œëœì¹˜ì˜ ê³µìœ  íˆìŠ¤í† ë¦¬
- ì½”ë“œ ë¦¬ë·° ì™„ë£Œ í›„
- íŒ€ ë…¼ì˜ ì—†ì´ (í•´ì‰¬ ë³€ê²½)
---
## Git ë””ë²„ê¹…
---
![ì•„ë²„ì§€](https://cdn.arstechnica.net/wp-content/uploads/2012/06/torvaldsnvidia.jpg "=500x500")
---
### Git Bisect
```bash
$ git bisect start
$ git bisect bad  # í˜„ì¬ ë²„ì „ì— ë²„ê·¸ ìˆìŒ
$ git bisect good v1.0.0  # ì •ìƒ ì‘ë™í•˜ëŠ” ë²„ì „
# Gitì´ ì¤‘ê°„ ì»¤ë°‹ì„ ì²´í¬ì•„ì›ƒ
# í…ŒìŠ¤íŠ¸ í›„:
$ git bisect good  # ë˜ëŠ” git bisect bad
# ë°œê²¬ë  ë•Œê¹Œì§€ ë°˜ë³µ
$ git bisect reset  # ì™„ë£Œ ì‹œ
```
---
### ë³µì¡í•œ ë³‘í•© ì¶©ëŒ í•´ê²°
```bash
# ì–‘ìª½ ë¸Œëœì¹˜ì—ì„œ ë³€ê²½ëœ ë‚´ìš© í™•ì¸
$ git log --merge -p -- conflicted_file.js
# ì‹œê°ì  ë„êµ¬ í™œìš© (intellij ìì²´ê¸°ëŠ¥)
$ git mergetool
# í•´ê²° í›„
$ git add conflicted_file.js
$ git merge --continue
```
---
## Checkout vs Reset
ë¸Œëœì¹˜ì™€ ì»¤ë°‹ ì‚¬ì´ ì´ë™í•˜ê¸°
---
### git checkout vs git reset
![Checkout vs Reset](https://global.discourse-cdn.com/codecademy/original/5X/b/f/e/c/bfec7818cee2d571e3b16f42b1f07d372e5298f2.png)
---
### git checkout
```bash
# ë¸Œëœì¹˜ ì „í™˜
$ git checkout feature-branch

# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ì´ë™ (detached HEAD)
$ git checkout abc123

# íŠ¹ì • íŒŒì¼ì„ íŠ¹ì • ì»¤ë°‹ ìƒíƒœë¡œ ë³µì›
$ git checkout abc123 -- file.txt
```
**íŠ¹ì§•**:
- HEADë¥¼ ì´ë™ì‹œí‚´
- ì‘ì—… ë””ë ‰í† ë¦¬ ë‚´ìš©ì´ ë³€ê²½ë¨
- ë¸Œëœì¹˜ í¬ì¸í„°ëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŒ (íŒŒì¼ ë³µì› ì œì™¸)
---
### git resetì˜ ì„¸ ê°€ì§€ ëª¨ë“œ
```bash
# Soft Reset: ì»¤ë°‹ë§Œ ë˜ëŒë¦¼, ë³€ê²½ì‚¬í•­ì€ ìŠ¤í…Œì´ì§•ì— ìœ ì§€
$ git reset --soft HEAD~1

# Mixed Reset (ê¸°ë³¸): ì»¤ë°‹ê³¼ ìŠ¤í…Œì´ì§•(git add)ì„ ë˜ëŒë¦¼, ì‘ì—… ë””ë ‰í† ë¦¬ëŠ” ìœ ì§€
$ git reset HEAD~1
$ git reset --mixed HEAD~1  # ìœ„ì™€ ë™ì¼

# Hard Reset: ì»¤ë°‹, ìŠ¤í…Œì´ì§•(git add), ì‘ì—… ë””ë ‰í† ë¦¬ ëª¨ë‘ ë˜ëŒë¦¼
$ git reset --hard HEAD~1
```
---
### ì»¤ë°‹ ê·¸ë˜í”„ì™€ reset ëª…ë ¹ì–´
![Reset Animation](https://raw.githubusercontent.com/git-school/git-reset/master/git-reset-animation.gif "=450x450")
---
### ê¼¬ì¸ ë¸Œëœì¹˜ ìˆ˜ì •í•˜ê¸°
ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œ ìƒí™©:
```
A---B---C---D---E  (main)
         \
          F---G---H  (feature)
              \
               I---J  (hotfix)
```
**ê·¸ë£¹í™”**ì™€ **ìˆœì„œ ë³€ê²½** í•„ìš”:
```bash
# í˜„ì¬ ì‘ì—… ì €ì¥
$ git stash

# featureì—ì„œ hotfix ë¶„ë¦¬í•˜ê¸°
$ git checkout feature
$ git reset --hard G  # H ì»¤ë°‹ ì œê±°

# ëˆ„ë½ëœ ì‘ì—…ì„ ì˜¬ë°”ë¥¸ ë¸Œëœì¹˜ì— ì ìš©
$ git checkout hotfix
$ git cherry-pick H  # H ì»¤ë°‹ì„ hotfixì— ì ìš©

# ìŠ¤íƒœì‹œì—ì„œ ì‘ì—… ë³µì›
$ git stash pop
```
---
### ì‹¬í™”: ê°€ìƒì˜ ì°¸ì¡°(Reflog)ë¡œ ì‹¤ìˆ˜ ë³µêµ¬
```bash
# ì‹¤ìˆ˜ë¡œ Hard Reset í›„
$ git reset --hard HEAD~3  # ì‰¬ë§...

# Reflogë¡œ ì´ì „ ìƒíƒœ í™•ì¸
$ git reflog
463ae2f HEAD@{0}: reset: moving to HEAD~3
72e5af1 HEAD@{1}: commit: ì¤‘ìš”í•œ ê¸°ëŠ¥ ì¶”ê°€
...

# ì‚­ì œëœ ì»¤ë°‹ ë³µêµ¬
$ git reset --hard 72e5af1
```
---
## Revert & Amend
ì´ë¯¸ ê³µìœ ëœ íˆìŠ¤í† ë¦¬ ìˆ˜ì •í•˜ê¸°
---
### git commit --amend
ê°€ì¥ ìµœê·¼ ì»¤ë°‹ ìˆ˜ì •í•˜ê¸°
```bash
# ë§ˆì§€ë§‰ ì»¤ë°‹ ë©”ì‹œì§€ ìˆ˜ì •
$ git commit --amend -m "ìƒˆë¡œìš´ ì»¤ë°‹ ë©”ì‹œì§€"

# íŒŒì¼ì„ ë” ì¶”ê°€í•˜ê³  ë§ˆì§€ë§‰ ì»¤ë°‹ì— í¬í•¨
$ git add forgotten-file.js
$ git commit --amend --no-edit  # ë©”ì‹œì§€ ìœ ì§€
```
**ì¤‘ìš”**: amendëŠ” ì´ì „ ì»¤ë°‹ì„ *ëŒ€ì²´*í•©ë‹ˆë‹¤:
- ë¡œì»¬ì—ì„œë§Œ ì‚¬ìš© (push ì „)
- ì´ë¯¸ pushëœ ì»¤ë°‹ì€ amendí•˜ì§€ ë§ ê²ƒ
---
### git revert
íˆìŠ¤í† ë¦¬ë¥¼ ë³´ì¡´í•˜ë©´ì„œ ë³€ê²½ ì·¨ì†Œí•˜ê¸°
```bash
# íŠ¹ì • ì»¤ë°‹ ë˜ëŒë¦¬ê¸°
$ git revert abc123

# ì—¬ëŸ¬ ì»¤ë°‹ ë˜ëŒë¦¬ê¸° (ê°œë³„ revert ì»¤ë°‹ ìƒì„±)
$ git revert abc123 def456

# ì—¬ëŸ¬ ì»¤ë°‹ ë˜ëŒë¦¬ê¸° (í•˜ë‚˜ì˜ revert ì»¤ë°‹ìœ¼ë¡œ)
$ git revert --no-commit abc123 def456
$ git commit -m "ì—¬ëŸ¬ ì»¤ë°‹ ë˜ëŒë¦¬ê¸°"
```
---
### Revert vs Reset vs Amend
| ëª…ë ¹ì–´ | íˆìŠ¤í† ë¦¬ ìˆ˜ì • | ê³µìœ  ë¸Œëœì¹˜ì— ì•ˆì „ | ì‚¬ìš© ì‚¬ë¡€ |
|--------|----------|----------|----------|
| `reset` | ì œê±°ë¨ | âŒ | ë¡œì»¬ ì‘ì—…ë§Œ |
| `revert` | ë³´ì¡´ë¨ | âœ… | ê³µìœ  ë¸Œëœì¹˜ |
| `amend` | ìˆ˜ì •ë¨ | âŒ | push ì „ ë¡œì»¬ ì»¤ë°‹ |
---
### ì‹¤ì œ ì˜ˆ: ë¯¼ê° ì •ë³´ ì œê±°
**ì˜ëª»ëœ ë°©ë²•**:
```bash
# ğŸš« ì´ë¯¸ í‘¸ì‹œëœ ì»¤ë°‹ ë³€ê²½ (íŒ€ì›ë“¤ì—ê²Œ ë¬¸ì œ ë°œìƒ)
$ git reset --hard HEAD~1
$ git push --force
```

**ì˜¬ë°”ë¥¸ ë°©ë²•**:
```bash
# âœ… ìƒˆ ì»¤ë°‹ìœ¼ë¡œ ë³€ê²½ ì·¨ì†Œ (íˆìŠ¤í† ë¦¬ ë³´ì¡´)
$ git revert abc123
$ git push

# ğŸ’¡ Git íˆìŠ¤í† ë¦¬ì—ì„œ ë¯¼ê° íŒŒì¼ ì™„ì „íˆ ì œê±°
$ git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch config/secrets.yml" \
  --prune-empty --tag-name-filter cat -- --all
```
</textarea>
			</section>
		</div>
	</div>
</Slides>

<style>
	#reveal-container {
		height: 100vh;
	}
	main {
		margin: auto;
		padding: 1.5rem;
		max-width: 60ch;
	}
	h1 {
		font-size: 3rem;
		font-weight: 800;
		margin: 0;
	}
	.text-gradient {
		background-image: var(--accent-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 400%;
		background-position: 0%;
	}
	.instructions {
		line-height: 1.6;
		margin: 1rem 0;
		border: 1px solid rgba(var(--accent), 25%);
		background-color: white;
		padding: 1rem;
		border-radius: 0.4rem;
	}
</style>

<script src="../lib/reveal_client.js"></script>
